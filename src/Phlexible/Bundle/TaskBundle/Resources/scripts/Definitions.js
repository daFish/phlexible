Ext.namespace('Phlexible.tasks.menuhandle', 'Phlexible.tasks.model');

Phlexible.tasks.HistoryTemplate = new Ext.XTemplate(
    '<div class="p-tasks-history">',
    '<div class="history-table">',
    '<table cellspadding="0" cellspacing="5">',
    '<colgroup>',
    '<col width="130" />',
    '<col width="130" />',
    '<col width="130" /',
    '<col width="*" />',
    '</colgroup>',
    '<tr>',
    '<th>{[Phlexible.tasks.Strings.change_date]}</th>',
    '<th>{[Phlexible.tasks.Strings.change_user]}</th>',
    '<th>{[Phlexible.tasks.Strings.status]}</th>',
    '<th>{[Phlexible.tasks.Strings.comment]}</th>',
    '</tr>',
    '<tpl for="history">',
    '<tr>',
    '<td<tpl if="latest"> class="active"</tpl>>{create_date}</td>',
    '<td<tpl if="latest"> class="active"</tpl>>{name}</td>',
    '<td<tpl if="latest"> class="active"</tpl>>{[Phlexible.inlineIcon("p-task-status_"+values.status+"-icon")]} {[Phlexible.tasks.Strings.get(values.status)]}</td>',
    '<td<tpl if="latest"> class="active"</tpl>>"{comment}"</td>',
    '</tr>',
    '</tpl>',
    '</table>',
    '</div>',
    '</div>'
);

Phlexible.tasks.ViewTemplate = new Ext.XTemplate(
    '<div class="p-tasks-view">',
    '<table cellpadding="0" cellspacing="5">',
    '<colgroup>',
    '<col width="100" />',
    '<col width="240" />',
    '<col width="100" /',
    '<col width="240" />',
    '</colgroup>',
    '<tr>',
    '<th>{[Phlexible.tasks.Strings.task]}</td><td>{title}</td>',
    '<th>{[Phlexible.tasks.Strings.created_by]}</th><td>{create_user}</td>',
    '</tr>',
    '<tr>',
    '<th>{[Phlexible.tasks.Strings.status]}</td><td><img width="16" height="16" src="{[Phlexible.inlineIcon("p-task-status_"+values.latest_status+"-icon")]}" style="vertical-align: middle;"/> {[Phlexible.tasks.Strings.get(values.latest_status)]}</td>',
    '<th>{[Phlexible.tasks.Strings.created_at]}</th><td>{create_date}</td>',
    '</tr>',
    '<tr>',
    '<th>&nbsp;</th><td>&nbsp;</td>',
    '<th>{[Phlexible.tasks.Strings.recipient]}</th><td>{recipient_user}</td>',
    '</tr>',
    '</table>',
    '</div>'
);
